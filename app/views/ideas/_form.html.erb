<div class="row well well-lg col-md-offset-1 col-md-10">
  
  <%= form_for(idea) do |f| %>
    <%# Error Messages %>
    <% if idea.errors.any? %>
      <div align="center" id="error_explanation">
        <h2><%= pluralize(idea.errors.count, "error") %> prohibited this idea from being saved:</h2>

        <ul>
        <% idea.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="row form-group">
      <div class="control-label col-sm-1">
        <%= f.label :text, class: 'text-right hidden' %>
      </div>
      <div class="col-sm-10">
        <%= f.trix_editor :text, placeholder: "Body of article", autofocus: true, class: 'idea-body' %>
      </div>
    </div>

    <%# Only show these fields if editing %>
    <% if params[:action] != 'edit' %>
      <%# Show voting style field %>
      <div class="row form-group">
        <div class="control-label col-sm-3">
          <%= f.label :voting_style, class: 'text-right' %>
        </div>
        <div class="col-sm-2">
          <%= f.select :voting_style, ['Binary', '1-10', '5 Stars', 'Fibonacci'], class: 'select form-control' %>
        </div>
      </div>

      <%# Active Days field %>
      <div class="row form-group">
        <div class="control-label col-sm-3">
          <%= f.label :open_days, class: 'text-right' %>
        </div>
        <div class="col-sm-2">
          <%= f.number_field :open_days, class: 'form-control' %>
        </div>
        How many full days do you want this idea to be open for?<br>
        <em>Choose a number between 0 and 7</em>
      </div>

      <!-- Check boxes -->
      <div class="row form-check">
        <div class="form-check-label col-md-3">
          <%= f.label :anonymous_comments, class: 'text-right' %>
        </div>
        <div class="form-check-input col-md-2">
          <%= f.check_box :anonymous_comments, { checked: true } %>
        </div>
        If on, comments will be anonymous
      </div>
      
      <div class="row form-check">
        <div class="form-check-label col-md-3">
          <%= f.label :real_time_voting, class: 'text-right' %>
        </div>
        <div class="form-check-input col-md-2">
          <%= f.check_box :real_time_voting %>
        </div>
        If on, voting results will be displayed in real time
      </div>

      <div class="row form-check">
        <div class="form-check-label col-md-3">
          <%= f.label :reveal_voter_details, class: 'text-right' %>
        </div>
        <div class="form-check-input col-md-2">
          <%= f.check_box :reveal_voter_details %>
        </div>
        If on, voter names and vote choices will be public
      </div>

    <% end %>

    <%# Buttons %>
    <div class="row form-group">
      <div class="col-sm-offset-2 col-sm-10 actions">
        <%= f.submit class: 'btn btn-md btn-primary'%>
        <% if params[:action] == 'edit' %>
          <%# If editing idea, cancel should send back to show %>
          <%= link_to 'Cancel', idea_path(idea),
                                class: 'btn btn-md btn-danger' %>
        <% else %>
          <%# Otherwise, send back to index %>
          <%= link_to 'Cancel', ideas_path, class: 'btn btn-md btn-danger' %>
        <% end %>
      </div>
    </div>
    
  <% end %>
  
</div>

