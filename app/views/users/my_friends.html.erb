<div class="container row col-md-offset-1 col-md-10">

  <%= render 'friends/lookup' %>

  <% if @friendships.size > 0 %>
    <div class="well">
      <table class="table table-striped">
        <thead>
          <tr>
            <th colspan="3">
              <h3>My Friends</h3>
            </th>
          </tr>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th colspan=2>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @friendships.each do |friend| %>
            <tr>
              <td><%= friend.full_name %></td>
              <td><%= friend.email %></td>
              <td>
                <%= link_to "View Profile", user_path(friend),
                                            class: "btn btn-primary btn-sm" %>
              </td>
              <td>
                <%= link_to 'Remove Friend',
                    friendship_path(friend),
                    method: :delete,
                    data: { 
                      confirm: 'Are you sure you want to remove this friend?'
                    },
                    class: 'btn btn-sm btn-danger' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class='row'>
      <p class="lead text-center">
        You don't have any friends yet. Please add some!
      </p>
    </div>
  <% end %>
</div>